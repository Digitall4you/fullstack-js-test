const{GraphQLServer:GraphQLServer}=require("graphql-yoga"),morgan=require("morgan"),cors=require("cors"),resolvers=require("./resolvers"),{connect:connect}=require("./db"),typeDefs="src/schema.graphql",server=new GraphQLServer({typeDefs:typeDefs,resolvers:resolvers,context:async req=>({...req,mongo:await connect()})});server.express.use(morgan("dev")),server.express.use(cors());const options={port:process.env.NODE_PORT||4001};server.start(options,()=>console.log(`Server is running on http://localhost:${options.port}`));